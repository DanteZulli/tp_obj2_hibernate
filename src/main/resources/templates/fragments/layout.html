<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
  <!-- Fragmento completo de navegación (navbar + sidebar) -->
  <div th:fragment="navigation">
    <nav th:replace="~{fragments/navbar.html}"></nav>
    <div id="layoutSidenav">
      <div th:replace="~{fragments/sidebar.html :: sidebar-unified}"></div>
    </div>
  </div>
  
  <!-- Fragmento solo del contenido principal con estructura básica -->
  <div th:fragment="main-content(title, breadcrumb)">
    <div id="layoutSidenav_content">
      <main>
        <div class="container-fluid px-4">
          <h1 class="mt-4" th:text="${title}">Título</h1>
          <ol class="breadcrumb mb-4" th:if="${breadcrumb}">
            <li class="breadcrumb-item"><a th:href="@{/}">Dashboard</a></li>
            <li class="breadcrumb-item active" th:text="${breadcrumb}">Página</li>
          </ol>
          
          <!-- Mensajes de error y éxito -->
          <div th:if="${error}" class="alert alert-danger" role="alert">
            <i class="fas fa-exclamation-triangle"></i> <span th:text="${error}"></span>
          </div>
          <div th:if="${success}" class="alert alert-success" role="alert">
            <i class="fas fa-check-circle"></i> <span th:text="${success}"></span>
          </div>
          
          <!-- Aquí va el contenido específico de cada página -->
        </div>
      </main>
      <footer th:replace="~{fragments/footer.html}"></footer>
    </div>
  </div>
</body>
</html> 